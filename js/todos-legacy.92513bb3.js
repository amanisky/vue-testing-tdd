"use strict";(self["webpackChunkdemo"]=self["webpackChunkdemo"]||[]).push([[700],{7319:function(t,o,e){e.r(o),e.d(o,{default:function(){return L}});var n=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("section",{staticClass:"todoapp"},[e("TodoHeader",{on:{"new-todo":t.addTodo}}),e("section",{staticClass:"main"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.toggleAll,expression:"toggleAll"}],staticClass:"toggle-all",attrs:{id:"toggle-all","data-testid":"toggle-all",type:"checkbox"},domProps:{checked:Array.isArray(t.toggleAll)?t._i(t.toggleAll,null)>-1:t.toggleAll},on:{change:function(o){var e=t.toggleAll,n=o.target,i=!!n.checked;if(Array.isArray(e)){var d=null,s=t._i(e,d);n.checked?s<0&&(t.toggleAll=e.concat([d])):s>-1&&(t.toggleAll=e.slice(0,s).concat(e.slice(s+1)))}else t.toggleAll=i}}}),e("label",{attrs:{for:"toggle-all"}},[t._v("Mark all as complete")]),e("ul",{staticClass:"todo-list"},t._l(t.filterTodos,(function(o){return e("TodoItem",{key:o.id,attrs:{todo:o},on:{"todo-delete":t.onTodoDelete,"todo-edit":t.onTodoEdit}})})),1)]),e("TodoFooter",{attrs:{todos:t.todos},on:{"clear-completed":t.onClearCompleted}})],1)},i=[],d=(e(1539),e(4747),e(7327),e(9826),e(3210),function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("header",{staticClass:"header"},[e("h1",[t._v("待办")]),e("input",{staticClass:"new-todo",attrs:{"data-testid":"new-todo",autofocus:"",placeholder:"需要做什么？"},on:{keyup:function(o){return!o.type.indexOf("key")&&t._k(o.keyCode,"enter",13,o.key,"Enter")?null:t.onEnter.apply(null,arguments)}}})])}),s=[],l={name:"TodoHeader",methods:{onEnter:function(t){var o=t.target.value.trim();o.length&&(this.$emit("new-todo",o),t.target.value="")}}},r=l,a=e(1001),c=(0,a.Z)(r,d,s,!1,null,null,null),u=c.exports,f=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("li",{class:{completed:t.todoLocal.done,editing:t.isEditing},attrs:{"data-testid":"todo-item"}},[e("div",{staticClass:"view"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.todoLocal.done,expression:"todoLocal.done"}],staticClass:"toggle",attrs:{type:"checkbox","data-testid":"todo-done"},domProps:{checked:Array.isArray(t.todoLocal.done)?t._i(t.todoLocal.done,null)>-1:t.todoLocal.done},on:{change:function(o){var e=t.todoLocal.done,n=o.target,i=!!n.checked;if(Array.isArray(e)){var d=null,s=t._i(e,d);n.checked?s<0&&t.$set(t.todoLocal,"done",e.concat([d])):s>-1&&t.$set(t.todoLocal,"done",e.slice(0,s).concat(e.slice(s+1)))}else t.$set(t.todoLocal,"done",i)}}}),e("label",{attrs:{"data-testid":"todo-text"},on:{dblclick:function(o){t.isEditing=!0}}},[t._v(t._s(t.todoLocal.text))]),e("button",{staticClass:"destroy",attrs:{"data-testid":"todo-delete"},on:{click:function(o){return t.$emit("todo-delete",t.todoLocal.id)}}})]),e("input",{directives:[{name:"focus",rawName:"v-focus",value:t.isEditing,expression:"isEditing"}],staticClass:"edit",attrs:{"data-testid":"todo-edit"},domProps:{value:t.todo.text},on:{blur:function(o){t.isEditing=!1},keyup:[function(o){return!o.type.indexOf("key")&&t._k(o.keyCode,"enter",13,o.key,"Enter")?null:t.onEditTodo.apply(null,arguments)},function(o){return!o.type.indexOf("key")&&t._k(o.keyCode,"esc",27,o.key,["Esc","Escape"])?null:t.onEscTodo.apply(null,arguments)}]}})])},h=[],p={name:"TodoItem",props:{todo:{type:Object,required:!0}},directives:{focus:function(t,o){o.value&&t.focus()}},data:function(){return{todoLocal:this.todo,isEditing:!1}},methods:{onEditTodo:function(t){this.$emit("todo-edit",{id:this.todo.id,text:t.target.value}),this.isEditing=!1},onEscTodo:function(){this.isEditing=!1}}},g=p,m=(0,a.Z)(g,f,h,!1,null,null,null),v=m.exports,y=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("footer",{staticClass:"footer"},[e("span",{staticClass:"todo-count"},[e("strong",{attrs:{"data-testid":"done-todos-count"}},[t._v(t._s(t.count))]),t._v(" 未完成")]),e("ul",{staticClass:"filters"},[e("li",[e("router-link",{attrs:{to:"/todos"}},[t._v("全部的")])],1),e("li",[e("router-link",{attrs:{to:"/todos/active"}},[t._v("进行中")])],1),e("li",[e("router-link",{attrs:{to:"/todos/completed"}},[t._v("已完成")])],1)]),e("button",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"clear-completed",attrs:{"data-testid":"clear-completed"},on:{click:function(o){return t.$emit("clear-completed")}}},[t._v("清除已完成")])])},k=[],_={name:"TodoFooter",props:{todos:{type:Array,required:!0}},computed:{count:function(){return this.todos.filter((function(t){return!t.done})).length},show:function(){return this.todos.some((function(t){return!0===t.done}))}}},E=_,C=(0,a.Z)(E,y,k,!1,null,null,null),T=C.exports,A={name:"TodoView",components:{TodoHeader:u,TodoItem:v,TodoFooter:T},data:function(){return{todos:[]}},computed:{toggleAll:{get:function(){return this.todos.length&&this.todos.every((function(t){return t.done}))},set:function(t){this.todos.forEach((function(o){o.done=t}))}},filterTodos:function(){switch(this.$route.path){case"/todos/active":return this.todos.filter((function(t){return!t.done}));case"/todos/completed":return this.todos.filter((function(t){return t.done}));default:return this.todos}}},methods:{addTodo:function(t){var o=this.todos[this.todos.length-1];this.todos.push({id:o?o.id+1:1,text:t,done:!1})},onTodoDelete:function(t){this.todos=this.todos.filter((function(o){return o.id!==t}))},onTodoEdit:function(t){var o=t.id,e=t.text,n=this.todos.find((function(t){return t.id===o}));n&&(e.trim().length||this.onTodoDelete(o),n.text=e)},onClearCompleted:function(){this.todos=this.todos.filter((function(t){return!t.done}))}}},x=A,w=(0,a.Z)(x,n,i,!1,null,null,null),L=w.exports},9826:function(t,o,e){var n=e(2109),i=e(2092).find,d=e(1223),s="find",l=!0;s in[]&&Array(1)[s]((function(){l=!1})),n({target:"Array",proto:!0,forced:l},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),d(s)}}]);
//# sourceMappingURL=todos-legacy.92513bb3.js.map